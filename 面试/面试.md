# 1 什么是soa？
面向服务的架构，service-oriented Architecture把系统按照实际业务，拆分成刚刚好大小的、合适的、独立部署的模块，每个模块之间相互独立。比如现我有一个数据库，一个JavaWeb（或者PHP等）的网站客户端，一个安卓app客户端，一个IOS客户端。现在我要从这个数据库中获取注册用户列表，如果不用SOA的设计思想就要写三个查询的接口，用soa可以只写一个接口，返回的数据类型是通用的json或者xml数据，就是说把这个操作封装到一个工程中去，然后暴露访问的方式，形成“服务”。

# 2 soa的好处？
1. 抽象成一个接口，改起来容易
2. 服务治理
3. 扩容
    
# 3 什么是rpc？
Remote Procedure Call   远程过程调用解决分布式系统中，服务之间的调用问题。远程调用时，要能够像本地调用一样方便，让调用者感知不到远程调用的逻辑。
  
# 4 String StringBuilder StringBUffer 有什么区别？
String不可变，StringBuilder可变，线程不安全，StringBUffer可变，线程安全
### 4.1 为什么String不可变，意义何在，为什么StringBuilder线程不安全，StringBuffer线程安全
  
# 5 为什么重写 equals 时必须重写 hashCode 方法？

# 6 mysql
### 6.1 事务四大特性？
### 6.2 并发事务带来的四个问题？
### 6.3 事务隔离级别？
### 6.4 读写分离？

# 7 分库分表
### 7.1 为什么要分库分表？
1. 数据量
2. 磁盘
3. 数据库连接

### 7.3 分库分表算法
1. 固定hash算法
2. 一致性哈希算法
3. 虚拟节点 
4. 自定义路由

### 7.4 分库分表常用策略
1. 垂直切分
2. 水平切分

### 7.2 分库分表后的问题
#### 7.2.1 分布式事务？
1. 代码里加事务 @transactional(rollbackfor = exception.class)
2. 数据库本身支持分布式事务 但是代价太大
#### 7.2.2 跨库join的问题？
1. 在代码层面实现join逻辑
#### 7.2.3分表数据量也大了之后，横向扩容的问题?
#### 7.2.4 分库分表的中间件？这几个区别？
名称| 2 | 3
--|:--:|--:
TDDL          |     属于 client 层方案 |
Sharding-jdbc  |  属于 client 层方案 |
Mycat        |        属于 proxy 层方案 
Cobar    |     属于 proxy 层方案 

#### 7.2.5 全局id生成策略
1. 自动增长列 （设置偏移量和步长，扩容的时候不好解决）
2. UUID （简单唯一，太长无序）
3. Snowflake(雪花) 算法 （64bit  41bit时间+10bit机器id+12bit流水号）















